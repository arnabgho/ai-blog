@import "tailwindcss";
@plugin "@tailwindcss/typography";

:root {
  --background: oklch(0.98 0 0);
  --foreground: oklch(0.2 0 0);
  --primary: oklch(0.6 0.2 250);
  --primary-foreground: oklch(0.98 0 0);
  --accent: oklch(0.7 0.15 320);
  --accent-foreground: oklch(0.98 0 0);
  --feedback: oklch(0.8 0.15 85);
  --feedback-foreground: oklch(0.2 0 0);
  --success: oklch(0.75 0.15 150);
  --success-foreground: oklch(0.98 0 0);
  --muted: oklch(0.95 0 0);
  --muted-foreground: oklch(0.45 0 0);
  --border: oklch(0.9 0 0);
  --input: oklch(0.9 0 0);
  --ring: oklch(0.6 0.2 250);
  --radius: 0.5rem;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: oklch(0.15 0 0);
    --foreground: oklch(0.92 0 0);
    --primary: oklch(0.7 0.2 260);
    --primary-foreground: oklch(0.15 0 0);
    --accent: oklch(0.8 0.15 330);
    --accent-foreground: oklch(0.15 0 0);
    --feedback: oklch(0.75 0.13 80);
    --feedback-foreground: oklch(0.15 0 0);
    --success: oklch(0.75 0.13 140);
    --success-foreground: oklch(0.15 0 0);
    --muted: oklch(0.22 0 0);
    --muted-foreground: oklch(0.7 0 0);
    --border: oklch(0.35 0 0);
    --input: oklch(0.25 0 0);
    --ring: oklch(0.7 0.2 260);
  }
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-feedback: var(--feedback);
  --color-feedback-foreground: var(--feedback-foreground);
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --radius: var(--radius);
  --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
  }
}

/* Feedback mode overlay animation */
@keyframes tint-overlay {
  from {
    background-color: transparent;
  }
  to {
    background-color: oklch(0.8 0.15 85 / 0.05);
  }
}

.feedback-mode-active {
  animation: tint-overlay 0.3s ease-out forwards;
}

/* Highlight animation */
@keyframes highlight-grow {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.feedback-highlight {
  animation: highlight-grow 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  background: linear-gradient(120deg,
    oklch(0.9 0.1 85) 0%,
    oklch(0.85 0.12 80) 100%
  );
  border-radius: 2px;
  padding: 2px 0;
  position: relative;
  cursor: pointer;
  transition: all 0.2s ease;
}

.feedback-highlight:hover {
  background: linear-gradient(120deg,
    oklch(0.85 0.12 85) 0%,
    oklch(0.8 0.14 80) 100%
  );
}

.feedback-highlight.completed {
  background: linear-gradient(120deg,
    oklch(0.85 0.1 150) 0%,
    oklch(0.8 0.12 145) 100%
  );
}

/* Gradient shimmer for regenerate button */
@keyframes gradient-shift {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.gradient-shimmer {
  background: linear-gradient(
    90deg,
    oklch(0.6 0.2 250),
    oklch(0.65 0.18 280),
    oklch(0.7 0.15 320)
  );
  background-size: 200% 100%;
  animation: gradient-shift 3s ease infinite;
}

/* Prose styling for markdown */
.prose {
  @apply max-w-none;
  color: oklch(0.90 0 0) !important;
}

.prose p {
  @apply mb-4 leading-7;
  color: oklch(0.90 0 0) !important;
}

.prose strong, .prose b {
  color: oklch(0.96 0 0) !important;
  font-weight: 600;
}

.prose em, .prose i {
  color: oklch(0.88 0 0) !important;
}

.prose h1 {
  @apply text-4xl font-bold mb-4 mt-8;
  color: oklch(0.98 0 0) !important;
}

.prose h2 {
  @apply text-3xl font-bold mb-3 mt-6;
  color: oklch(0.96 0 0) !important;
}

.prose h3 {
  @apply text-2xl font-bold mb-2 mt-4;
  color: oklch(0.94 0 0) !important;
}

.prose h4, .prose h5, .prose h6 {
  color: oklch(0.92 0 0) !important;
}

.prose ul, .prose ol {
  @apply mb-4 ml-6;
}

.prose li {
  @apply mb-2;
}

.prose code {
  @apply bg-muted px-1.5 py-0.5 rounded text-sm font-mono;
}

.prose pre {
  @apply bg-muted p-4 rounded-lg overflow-x-auto mb-4;
}

.prose pre code {
  @apply bg-transparent p-0;
}

.prose blockquote {
  @apply border-l-4 border-primary pl-4 italic my-4;
}

.prose img {
  @apply rounded-lg my-4;
}

.prose a {
  @apply text-primary underline underline-offset-2 hover:text-accent transition-colors;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Selection color */
::selection {
  background-color: oklch(0.7 0.15 320 / 0.3);
}
